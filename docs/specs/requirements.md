# –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π FinReportAI v1.0

**–î–∞—Ç–∞:** 2024-11-15  
**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–°—Ç–∞—Ç—É—Å:** –£—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –¥–ª—è MVP

## 1. –û–±–∑–æ—Ä –ø—Ä–æ–¥—É–∫—Ç–∞

### 1.1 –û–ø–∏—Å–∞–Ω–∏–µ

FinReportAI ‚Äî –æ–±–ª–∞—á–Ω—ã–π SaaS-—Å–µ—Ä–≤–∏—Å –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏ –º–∞–ª–æ–≥–æ –∏ —Å—Ä–µ–¥–Ω–µ–≥–æ –±–∏–∑–Ω–µ—Å–∞ –≤ –†–æ—Å—Å–∏–∏ –∏ –°–ù–ì.

### 1.2 –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è

- –ú–∞–ª—ã–π –±–∏–∑–Ω–µ—Å (–≤—ã—Ä—É—á–∫–∞ –¥–æ 300 –º–ª–Ω —Ä—É–±/–≥–æ–¥)
- –°—Ä–µ–¥–Ω–∏–π –±–∏–∑–Ω–µ—Å (–≤—ã—Ä—É—á–∫–∞ 300 –º–ª–Ω - 2 –º–ª—Ä–¥ —Ä—É–±/–≥–æ–¥)
- –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞
- –í–ª–∞–¥–µ–ª—å—Ü—ã –±–∏–∑–Ω–µ—Å–∞
- –ë—É—Ö–≥–∞–ª—Ç–µ—Ä–∞ —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ —É–ø—Ä–∞–≤–ª–µ–Ω—á–µ—Å–∫–æ–≥–æ —É—á–µ—Ç–∞

### 1.3 –ü—Ä–æ–±–ª–µ–º—ã –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ—à–∞–µ–º

1. **–†—É—á–Ω–æ–π —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö** - –æ—Ç–Ω–∏–º–∞–µ—Ç 4-8 —á–∞—Å–æ–≤ –≤ –º–µ—Å—è—Ü
2. **–û—à–∏–±–∫–∏ –≤ —Ä–∞—Å—á–µ—Ç–∞—Ö** - Excel —Ñ–æ—Ä–º—É–ª—ã –ª–æ–º–∞—é—Ç—Å—è
3. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏** - —Å–ª–æ–∂–Ω–æ –≤–∏–¥–µ—Ç—å —Ç—Ä–µ–Ω–¥—ã
4. **–ù–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å 1–°** - –¥–≤–æ–π–Ω–æ–π –≤–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö
5. **–°–ª–æ–∂–Ω—ã–µ BI-—Å–∏—Å—Ç–µ–º—ã** - –¥–æ—Ä–æ–≥–æ –∏ –∏–∑–±—ã—Ç–æ—á–Ω–æ –¥–ª—è –º–∞–ª–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞

### 1.4 –¶–µ–Ω–Ω–æ—Å—Ç–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ

**"–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å –∑–∞ 5 –º–∏–Ω—É—Ç –≤–º–µ—Å—Ç–æ 5 —á–∞—Å–æ–≤"**

- ‚úÖ –ó–∞–≥—Ä—É–∑–∏–ª —Ñ–∞–π–ª ‚Üí –ø–æ–ª—É—á–∏–ª –¥–∞—à–±–æ—Ä–¥
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç 11 –∫–ª—é—á–µ–≤—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å 1–° –∏–∑ –∫–æ—Ä–æ–±–∫–∏
- ‚úÖ 14 –¥–Ω–µ–π –±–µ—Å–ø–ª–∞—Ç–Ω–æ
- ‚úÖ –û—Ç 3000‚ÇΩ/–º–µ—Å—è—Ü

---

## 2. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è (FR)

### FR-1: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

#### FR-1.1: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** MUST HAVE  
**Story Points:** 5

**User Story:**
> –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, —è —Ö–æ—á—É –≤–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Telegram, —á—Ç–æ–±—ã –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å

**Acceptance Criteria:**
- [x] –ö–Ω–æ–ø–∫–∞ "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Telegram" –Ω–∞ –ª–µ–Ω–¥–∏–Ω–≥–µ
- [x] OAuth 2.0 flow —Å Telegram
- [x] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ
- [x] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ Telegram ID –≤ –ë–î
- [x] JWT —Ç–æ–∫–µ–Ω —Å TTL 30 –¥–Ω–µ–π

**Technical Notes:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `aiogram` –∏–ª–∏ `python-telegram-bot`
- JWT –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ backend (FastAPI)
- Refresh token –≤ secure httpOnly cookie

**Definition of Done:**
- [ ] Unit —Ç–µ—Å—Ç—ã auth flow
- [ ] E2E —Ç–µ—Å—Ç –≤—Ö–æ–¥–∞ —á–µ—Ä–µ–∑ Telegram
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API endpoint
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω—ã—Ö/–Ω–µ—É—Å–ø–µ—à–Ω—ã—Ö –≤—Ö–æ–¥–æ–≤

#### FR-1.2: –ü—Ä–æ—Ñ–∏–ª—å –∫–æ–º–ø–∞–Ω–∏–∏

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** MUST HAVE

**User Story:**
> –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, —è —Ö–æ—á—É –∑–∞–ø–æ–ª–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Å–≤–æ–µ–π –∫–æ–º–ø–∞–Ω–∏–∏ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö —Ä–∞—Å—á–µ—Ç–æ–≤

**Acceptance Criteria:**
- [x] –§–æ—Ä–º–∞ —Å –ø–æ–ª—è–º–∏: –ù–∞–∑–≤–∞–Ω–∏–µ, –ò–ù–ù, –æ—Ç—Ä–∞—Å–ª—å, —Ä–∞–∑–º–µ—Ä (–º–∞–ª—ã–π/—Å—Ä–µ–¥–Ω–∏–π)
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è –ò–ù–ù (10 –∏–ª–∏ 12 —Ü–∏—Ñ—Ä)
- [x] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ø—Ä–æ—Ñ–∏–ª–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [x] –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è

**Data Model:**
```python
class Company(Base):
    id: UUID
    name: str  # max 200 chars
    inn: str   # 10 or 12 digits
    industry: str  # enum: trade, manufacturing, services, other
    size: str  # enum: small, medium
    created_at: datetime
    updated_at: datetime
```

---

### FR-2: –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

#### FR-2.1: –ó–∞–≥—Ä—É–∑–∫–∞ Excel/CSV —Ñ–∞–π–ª–æ–≤

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** MUST HAVE  
**Story Points:** 8

**User Story:**
> –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, —è —Ö–æ—á—É –∑–∞–≥—Ä—É–∑–∏—Ç—å Excel —Ñ–∞–π–ª —Å —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

**Acceptance Criteria:**
- [x] Drag & Drop –∑–æ–Ω–∞ –¥–ª—è —Ñ–∞–π–ª–æ–≤
- [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤: .xlsx, .xls, .csv
- [x] –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: 10 MB
- [x] –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –∏–º–ø–æ—Ä—Ç–æ–º
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ñ–∞–π–ª–∞
- [x] –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞:**

**–õ–∏—Å—Ç 1: –û—Ç—á–µ—Ç –æ –ø—Ä–∏–±—ã–ª—è—Ö –∏ —É–±—ã—Ç–∫–∞—Ö (P&L)**
| –ü–æ–∫–∞–∑–∞—Ç–µ–ª—å | –ó–Ω–∞—á–µ–Ω–∏–µ (—Ä—É–±) |
|------------|----------------|
| –í—ã—Ä—É—á–∫–∞ | 1000000 |
| –°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å | 600000 |
| –í–∞–ª–æ–≤–∞—è –ø—Ä–∏–±—ã–ª—å | 400000 |
| –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã | 200000 |
| –ü—Ä–∏–±—ã–ª—å –¥–æ –Ω–∞–ª–æ–≥–æ–æ–±–ª–æ–∂–µ–Ω–∏—è | 200000 |
| –ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å | 160000 |

**–õ–∏—Å—Ç 2: –ë–∞–ª–∞–Ω—Å**
| –ü–æ–∫–∞–∑–∞—Ç–µ–ª—å | –ó–Ω–∞—á–µ–Ω–∏–µ (—Ä—É–±) |
|------------|----------------|
| –û–±–æ—Ä–æ—Ç–Ω—ã–µ –∞–∫—Ç–∏–≤—ã | 500000 |
| –í–Ω–µ–æ–±–æ—Ä–æ—Ç–Ω—ã–µ –∞–∫—Ç–∏–≤—ã | 1000000 |
| –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ | 300000 |
| –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ | 400000 |
| –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª | 800000 |
| –î–µ–Ω–µ–∂–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ | 150000 |
| –î–µ–±–∏—Ç–æ—Ä—Å–∫–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å | 200000 |
| –ó–∞–ø–∞—Å—ã | 150000 |

**Technical Implementation:**
```python
from pandas import read_excel
from pydantic import BaseModel, validator

class PLData(BaseModel):
    """–û—Ç—á–µ—Ç –æ –ø—Ä–∏–±—ã–ª—è—Ö –∏ —É–±—ã—Ç–∫–∞—Ö"""
    revenue: float
    cogs: float  # Cost of Goods Sold
    gross_profit: float
    operating_expenses: float
    ebit: float  # Earnings Before Interest and Taxes
    net_profit: float
    
    @validator('revenue', 'gross_profit', 'net_profit')
    def positive_values(cls, v):
        if v < 0:
            raise ValueError('–ó–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º')
        return v

class BalanceData(BaseModel):
    """–ë–∞–ª–∞–Ω—Å"""
    current_assets: float
    non_current_assets: float
    current_liabilities: float
    non_current_liabilities: float
    equity: float
    cash: float
    receivables: float
    inventory: float
    
    @validator('*')
    def non_negative(cls, v):
        if v < 0:
            raise ValueError('–ó–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º')
        return v
```

**Definition of Done:**
- [ ] Unit —Ç–µ—Å—Ç—ã –ø–∞—Ä—Å–∏–Ω–≥–∞ Excel
- [ ] –¢–µ—Å—Ç—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (–Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç, –ø—É—Å—Ç—ã–µ –ø–æ–ª—è)
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–æ–∫
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ —Ñ–∞–π–ª–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

#### FR-2.2: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å 1–°

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** SHOULD HAVE (Phase 1)  
**Story Points:** 13

**User Story:**
> –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 1–°, —è —Ö–æ—á—É —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ FinReportAI –æ–¥–Ω–æ–π –∫–Ω–æ–ø–∫–æ–π

**Acceptance Criteria:**
- [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 1–°:–ë—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è 8.3
- [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 1–°:–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤–ª–µ–π 11
- [x] –í—ã–≥—Ä—É–∑–∫–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ FinReportAI Excel template
- [x] –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –≤—ã–≥—Ä—É–∑–∫–∏
- [x] API endpoint –¥–ª—è –ø—Ä–∏–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ 1–°

**Integration Options:**

**Option A: –§–∞–π–ª–æ–≤–∞—è –≤—ã–≥—Ä—É–∑–∫–∞ (MVP)**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –æ—Ç—á–µ—Ç –≤ 1–°
2. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ Excel –ø–æ –Ω–∞—à–µ–º—É —à–∞–±–ª–æ–Ω—É
3. –ó–∞–≥—Ä—É–∂–∞–µ—Ç —á–µ—Ä–µ–∑ UI

**Option B: API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (Post-MVP)**
1. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ 1–°
2. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≤—ã–∑—ã–≤–∞–µ—Ç API FinReportAI
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö

**Technical Notes:**
- –î–ª—è MVP: Option A
- Post-MVP: —Ä–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å 1–° —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å —Å–∫—Ä–∏–Ω—à–æ—Ç–∞–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ 1–°

---

### FR-3: –†–∞—Å—á–µ—Ç —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π

#### FR-3.1: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –º–µ—Ç—Ä–∏–∫

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** MUST HAVE  
**Story Points:** 13

**User Story:**
> –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, —è —Ö–æ—á—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –≤—Å–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏

**–°–ø–∏—Å–æ–∫ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π (11 —à—Ç):**

1. **–í—ã—Ä—É—á–∫–∞ –∏ –ø—Ä–æ–≥–Ω–æ–∑ –≤—ã—Ä—É—á–∫–∏**
   - –§–æ—Ä–º—É–ª–∞: –§–∞–∫—Ç –∏–∑ P&L
   - –ü—Ä–æ–≥–Ω–æ–∑: –°—Ä–µ–¥–Ω–µ–µ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –º–µ—Å—è—Ü–∞

2. **–ú–∞—Ä–∂–∏–Ω–∞–ª—å–Ω–æ—Å—Ç—å (Gross Margin)**
   - –§–æ—Ä–º—É–ª–∞: `(–í–∞–ª–æ–≤–∞—è –ø—Ä–∏–±—ã–ª—å / –í—ã—Ä—É—á–∫–∞) √ó 100%`
   - –ë–µ–Ω—á–º–∞—Ä–∫: 30-50% (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –æ—Ç—Ä–∞—Å–ª–∏)

3. **–†–µ–Ω—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ–¥–∞–∂ (ROS - Return on Sales)**
   - –§–æ—Ä–º—É–ª–∞: `(–ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å / –í—ã—Ä—É—á–∫–∞) √ó 100%`
   - –ë–µ–Ω—á–º–∞—Ä–∫: 10-20%

4. **–í–µ–ª–∏—á–∏–Ω–∞ –∞–∫—Ç–∏–≤–æ–≤**
   - –§–æ—Ä–º—É–ª–∞: `–û–±–æ—Ä–æ—Ç–Ω—ã–µ –∞–∫—Ç–∏–≤—ã + –í–Ω–µ–æ–±–æ—Ä–æ—Ç–Ω—ã–µ –∞–∫—Ç–∏–≤—ã`

5. **–†–µ–Ω—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å –∞–∫—Ç–∏–≤–æ–≤ (ROA - Return on Assets)**
   - –§–æ—Ä–º—É–ª–∞: `(–ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å / –°—Ä–µ–¥–Ω–∏–µ –∞–∫—Ç–∏–≤—ã) √ó 100%`
   - –°—Ä–µ–¥–Ω–∏–µ –∞–∫—Ç–∏–≤—ã: `(–ê–∫—Ç–∏–≤—ã –Ω–∞—á–∞–ª–æ + –ê–∫—Ç–∏–≤—ã –∫–æ–Ω–µ—Ü) / 2`
   - –ë–µ–Ω—á–º–∞—Ä–∫: 5-15%

6. **–†–µ–Ω—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∫–∞–ø–∏—Ç–∞–ª–∞ (ROE)**
   - –§–æ—Ä–º—É–ª–∞: `(–ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å / –°—Ä–µ–¥–Ω–∏–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª) √ó 100%`
   - –ë–µ–Ω—á–º–∞—Ä–∫: 15-25%

7. **–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏:**
   - **–¢–µ–∫—É—â–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å:** `–û–±–æ—Ä–æ—Ç–Ω—ã–µ –∞–∫—Ç–∏–≤—ã / –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞`
     - –ù–æ—Ä–º–∞: > 1.5
   - **–ë—ã—Å—Ç—Ä–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å:** `(–û–±–æ—Ä–æ—Ç–Ω—ã–µ –∞–∫—Ç–∏–≤—ã - –ó–∞–ø–∞—Å—ã) / –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞`
     - –ù–æ—Ä–º–∞: > 1.0
   - **–ê–±—Å–æ–ª—é—Ç–Ω–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å:** `–î–µ–Ω–µ–∂–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ / –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞`
     - –ù–æ—Ä–º–∞: > 0.2

8. **–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**
   - –§–æ—Ä–º—É–ª–∞: `–°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª / –í–∞–ª—é—Ç–∞ –±–∞–ª–∞–Ω—Å–∞`
   - –ù–æ—Ä–º–∞: > 0.5

9. **–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –æ–±–æ—Ä–∞—á–∏–≤–∞–µ–º–æ—Å—Ç–∏ –∞–∫—Ç–∏–≤–æ–≤**
   - –§–æ—Ä–º—É–ª–∞: `–í—ã—Ä—É—á–∫–∞ / –°—Ä–µ–¥–Ω–∏–µ –∞–∫—Ç–∏–≤—ã`
   - –ï–¥–∏–Ω–∏—Ü–∞: –æ–±–æ—Ä–æ—Ç—ã/–ø–µ—Ä–∏–æ–¥

10. **–ß–∏—Å—Ç—ã–π –æ–±–æ—Ä–æ—Ç–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª (NWC)**
    - –§–æ—Ä–º—É–ª–∞: `–û–±–æ—Ä–æ—Ç–Ω—ã–µ –∞–∫—Ç–∏–≤—ã - –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞`
    - –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º

11. **–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –æ–±–æ—Ä–æ—Ç–Ω–æ–≥–æ –∫–∞–ø–∏—Ç–∞–ª–∞**
    - –§–æ—Ä–º—É–ª–∞: `–¢–µ–∫—É—â–∏–µ –∞–∫—Ç–∏–≤—ã / –¢–µ–∫—É—â–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞`
    - –ê–Ω–∞–ª–æ–≥ —Ç–µ–∫—É—â–µ–π –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏

**Implementation:**

```python
from dataclasses import dataclass
from typing import Optional

@dataclass
class CalculatedMetrics:
    """–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—á–µ—Ç–∞ –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫"""
    
    # 1. –í—ã—Ä—É—á–∫–∞
    revenue: float
    revenue_forecast: Optional[float] = None
    
    # 2. –ú–∞—Ä–∂–∏–Ω–∞–ª—å–Ω–æ—Å—Ç—å
    gross_margin: float
    
    # 3. ROS
    ros: float
    
    # 4. –í–µ–ª–∏—á–∏–Ω–∞ –∞–∫—Ç–∏–≤–æ–≤
    total_assets: float
    
    # 5. ROA
    roa: float
    
    # 6. ROE
    roe: float
    
    # 7. –õ–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å
    current_ratio: float
    quick_ratio: float
    cash_ratio: float
    
    # 8. –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
    autonomy_ratio: float
    
    # 9. –û–±–æ—Ä–∞—á–∏–≤–∞–µ–º–æ—Å—Ç—å –∞–∫—Ç–∏–≤–æ–≤
    asset_turnover: float
    
    # 10. –ß–∏—Å—Ç—ã–π –æ–±–æ—Ä–æ—Ç–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª
    net_working_capital: float
    
    # 11. –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –æ–±–æ—Ä–æ—Ç–Ω–æ–≥–æ –∫–∞–ø–∏—Ç–∞–ª–∞
    working_capital_ratio: float

class MetricsCalculator:
    """–°–µ—Ä–≤–∏—Å —Ä–∞—Å—á–µ—Ç–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫"""
    
    def __init__(self, pl_data: PLData, balance_data: BalanceData):
        self.pl = pl_data
        self.balance = balance_data
    
    def calculate_all(self) -> CalculatedMetrics:
        """–†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –≤—Å–µ 11 –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π"""
        return CalculatedMetrics(
            revenue=self.pl.revenue,
            revenue_forecast=self._forecast_revenue(),
            gross_margin=self._calc_gross_margin(),
            ros=self._calc_ros(),
            total_assets=self._calc_total_assets(),
            roa=self._calc_roa(),
            roe=self._calc_roe(),
            current_ratio=self._calc_current_ratio(),
            quick_ratio=self._calc_quick_ratio(),
            cash_ratio=self._calc_cash_ratio(),
            autonomy_ratio=self._calc_autonomy(),
            asset_turnover=self._calc_asset_turnover(),
            net_working_capital=self._calc_nwc(),
            working_capital_ratio=self._calc_working_capital_ratio(),
        )
    
    def _calc_gross_margin(self) -> float:
        """–ú–∞—Ä–∂–∏–Ω–∞–ª—å–Ω–æ—Å—Ç—å"""
        if self.pl.revenue == 0:
            return 0.0
        return (self.pl.gross_profit / self.pl.revenue) * 100
    
    def _calc_ros(self) -> float:
        """–†–µ–Ω—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ–¥–∞–∂"""
        if self.pl.revenue == 0:
            return 0.0
        return (self.pl.net_profit / self.pl.revenue) * 100
    
    # ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã
```

**Definition of Done:**
- [ ] Unit —Ç–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è
- [ ] –¢–µ—Å—Ç—ã –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ (–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ 0)
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ñ–æ—Ä–º—É–ª
- [ ] –ë–µ–Ω—á–º–∞—Ä–∫–∏ –ø–æ –æ—Ç—Ä–∞—Å–ª—è–º

---

### FR-4: –î–∞—à–±–æ—Ä–¥ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

#### FR-4.1: –ì–ª–∞–≤–Ω—ã–π –¥–∞—à–±–æ—Ä–¥

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** MUST HAVE  
**Story Points:** 13

**User Story:**
> –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, —è —Ö–æ—á—É –≤–∏–¥–µ—Ç—å –≤—Å–µ –∫–ª—é—á–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞ –æ–¥–Ω–æ–º —ç–∫—Ä–∞–Ω–µ

**Acceptance Criteria:**
- [x] –°–µ—Ç–∫–∞ –∏–∑ –∫–∞—Ä—Ç–æ—á–µ–∫ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏
- [x] –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è (—Ö–æ—Ä–æ—à–æ/—Å—Ä–µ–¥–Ω–µ/–ø–ª–æ—Ö–æ)
- [x] –ì—Ä–∞—Ñ–∏–∫–∏ –¥–∏–Ω–∞–º–∏–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å –∏—Å—Ç–æ—Ä–∏—è)
- [x] –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω (desktop/mobile)
- [x] –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ < 2 —Å–µ–∫

**Layout:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  FinReportAI                      üë§ User   üîî      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  üìä –î–∞—à–±–æ—Ä–¥ –∑–∞ –û–∫—Ç—è–±—Ä—å 2024                         ‚îÇ
‚îÇ                                                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ
‚îÇ  ‚îÇ –í—ã—Ä—É—á–∫–∞  ‚îÇ ‚îÇ –ú–∞—Ä–∂–∞    ‚îÇ ‚îÇ ROS      ‚îÇ ‚îÇ ROA     ‚îÇ‚îÇ
‚îÇ  ‚îÇ 1.2M ‚ÇΩ   ‚îÇ ‚îÇ 35% üìà  ‚îÇ ‚îÇ 12% ‚úÖ  ‚îÇ ‚îÇ 8% üìâ  ‚îÇ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îÇ
‚îÇ                                                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ
‚îÇ  ‚îÇ ROE      ‚îÇ ‚îÇ –¢–µ–∫—É—â–∞—è  ‚îÇ ‚îÇ –ë—ã—Å—Ç—Ä–∞—è  ‚îÇ ‚îÇ –ö–∞–ø–∏—Ç–∞–ª ‚îÇ‚îÇ
‚îÇ  ‚îÇ 15% ‚úÖ  ‚îÇ ‚îÇ –ª–∏–∫–≤ 1.8‚îÇ ‚îÇ –ª–∏–∫–≤ 1.2‚îÇ ‚îÇ 450K    ‚îÇ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îÇ
‚îÇ                                                      ‚îÇ
‚îÇ  üìà –ì—Ä–∞—Ñ–∏–∫ –≤—ã—Ä—É—á–∫–∏ –∑–∞ 6 –º–µ—Å—è—Ü–µ–≤                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ          [Line Chart]                          ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Color Coding:**
- üü¢ –ó–µ–ª–µ–Ω—ã–π: –ü–æ–∫–∞–∑–∞—Ç–µ–ª—å –≤ –Ω–æ—Ä–º–µ –∏–ª–∏ –≤—ã—à–µ
- üü° –ñ–µ–ª—Ç—ã–π: –ü–æ–∫–∞–∑–∞—Ç–µ–ª—å –±–ª–∏–∑–æ–∫ –∫ –≥—Ä–∞–Ω–∏—Ü–µ
- üî¥ –ö—Ä–∞—Å–Ω—ã–π: –ü–æ–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∏–∂–µ –Ω–æ—Ä–º—ã

**Implementation (Next.js):**

```typescript
// app/dashboard/page.tsx
'use client';

import { MetricsGrid } from '@/components/dashboard/metrics-grid';
import { RevenueChart } from '@/components/dashboard/revenue-chart';
import { useMetrics } from '@/hooks/use-metrics';

export default function DashboardPage() {
  const { data, loading, error } = useMetrics();
  
  if (loading) return <LoadingSpinner />;
  if (error) return <ErrorMessage error={error} />;
  
  return (
    <div className="container mx-auto p-6">
      <h1 className="text-3xl font-bold mb-8">
        –î–∞—à–±–æ—Ä–¥ –∑–∞ {data.period}
      </h1>
      
      <MetricsGrid metrics={data.metrics} />
      
      <div className="mt-8">
        <RevenueChart data={data.history} />
      </div>
    </div>
  );
}
```

**Definition of Done:**
- [ ] Responsive –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- [ ] Loading states
- [ ] Error handling
- [ ] Performance test (<2s load)
- [ ] A11y compliance

---

### FR-5: –ò—Å—Ç–æ—Ä–∏—è –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ

#### FR-5.1: –ò—Å—Ç–æ—Ä–∏—è –∑–∞–≥—Ä—É–∑–æ–∫

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** SHOULD HAVE  
**Story Points:** 5

**User Story:**
> –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, —è —Ö–æ—á—É –≤–∏–¥–µ—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤

**Acceptance Criteria:**
- [x] –¢–∞–±–ª–∏—Ü–∞ —Å–æ –≤—Å–µ–º–∏ –∑–∞–≥—Ä—É–∑–∫–∞–º–∏
- [x] –ö–æ–ª–æ–Ω–∫–∏: –î–∞—Ç–∞, –ü–µ—Ä–∏–æ–¥, –í—ã—Ä—É—á–∫–∞, –°—Ç–∞—Ç—É—Å
- [x] –ö–Ω–æ–ø–∫–∞ "–û—Ç–∫—Ä—ã—Ç—å –¥–∞—à–±–æ—Ä–¥" –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–ø–∏—Å–∏
- [x] –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –∑–∞–ø–∏—Å–µ–π

#### FR-5.2: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–æ–≤

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** COULD HAVE (Post-MVP)

**User Story:**
> –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, —è —Ö–æ—á—É —Å—Ä–∞–≤–Ω–∏—Ç—å –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –∑–∞ —Ä–∞–∑–Ω—ã–µ –º–µ—Å—è—Ü—ã

**Acceptance Criteria:**
- [x] –í—ã–±–æ—Ä 2-—Ö –ø–µ—Ä–∏–æ–¥–æ–≤
- [x] –¢–∞–±–ª–∏—Ü–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫
- [x] –ü—Ä–æ—Ü–µ–Ω—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è
- [x] –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —É–ª—É—á—à–µ–Ω–∏—è/—É—Ö—É–¥—à–µ–Ω–∏—è

---

## 3. –ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è (NFR)

### NFR-1: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**NFR-1.1:** –í—Ä–µ–º—è —Ä–∞—Å—á–µ—Ç–∞ –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫ < 3 —Å–µ–∫—É–Ω–¥—ã  
**NFR-1.2:** –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ –¥–æ 10MB < 5 —Å–µ–∫—É–Ω–¥  
**NFR-1.3:** Time to First Byte (TTFB) < 200ms  
**NFR-1.4:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 100 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–ú–µ—Ç–æ–¥—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è:**
- Lighthouse Performance Score > 90
- Load testing —Å k6/Locust

### NFR-2: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

**NFR-2.1:** HTTPS –¥–ª—è –≤—Å–µ—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π  
**NFR-2.2:** –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î  
**NFR-2.3:** JWT —Ç–æ–∫–µ–Ω—ã —Å –∏—Å—Ç–µ—á–µ–Ω–∏–µ–º —á–µ—Ä–µ–∑ 30 –¥–Ω–µ–π  
**NFR-2.4:** Rate limiting (100 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É)  
**NFR-2.5:** SQL Injection –∑–∞—â–∏—Ç–∞ (ORM)  
**NFR-2.6:** XSS –∑–∞—â–∏—Ç–∞ (Content Security Policy)  

**Security Checklist:**
- [ ] OWASP Top 10 –ø—Ä–æ–≤–µ—Ä–∫–∞
- [ ] Penetration testing
- [ ] Secrets –≤ environment variables
- [ ] Audit logging

### NFR-3: –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å

**NFR-3.1:** Uptime > 99.5% (43.8 —á–∞—Å–æ–≤ downtime –≤ –≥–æ–¥)  
**NFR-3.2:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ backup –ë–î (–µ–∂–µ–¥–Ω–µ–≤–Ω–æ)  
**NFR-3.3:** Disaster Recovery Plan (RTO < 4 —á–∞—Å–∞)  
**NFR-3.4:** –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—à–∏–±–æ–∫ (Sentry)

### NFR-4: –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å

**NFR-4.1:** –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ backend  
**NFR-4.2:** CDN –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤  
**NFR-4.3:** Database connection pooling  
**NFR-4.4:** –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—á–µ—Ç–æ–≤ (Redis)

### NFR-5: Usability

**NFR-5.1:** –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ  
**NFR-5.2:** Mobile-friendly (responsive)  
**NFR-5.3:** –û–Ω–±–æ—Ä–¥–∏–Ω–≥ –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
**NFR-5.4:** –ü–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫  
**NFR-5.5:** –í—Ä–µ–º—è –æ–±—É—á–µ–Ω–∏—è < 15 –º–∏–Ω—É—Ç

### NFR-6: Maintainability

**NFR-6.1:** Code coverage > 80%  
**NFR-6.2:** API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (OpenAPI)  
**NFR-6.3:** Code review –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω  
**NFR-6.4:** Semantic Versioning  
**NFR-6.5:** Changelog –¥–ª—è –≤—Å–µ—Ö —Ä–µ–ª–∏–∑–æ–≤

---

## 4. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –¥–æ–ø—É—â–µ–Ω–∏—è

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–ë—ç–∫–µ–Ω–¥:** Python 3.11+ only
2. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** PostgreSQL 14+
3. **–ë—Ä–∞—É–∑–µ—Ä—ã:** Chrome 90+, Firefox 88+, Safari 14+
4. **–§–∞–π–ª—ã:** –ú–∞–∫—Å–∏–º—É–º 10 MB
5. **Concurrent users:** –î–æ 100 (MVP)

### –ë–∏–∑–Ω–µ—Å-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–Ø–∑—ã–∫:** –¢–æ–ª—å–∫–æ —Ä—É—Å—Å–∫–∏–π (MVP)
2. **–ì–µ–æ–≥—Ä–∞—Ñ–∏—è:** –†–æ—Å—Å–∏—è –∏ –°–ù–ì
3. **–í–∞–ª—é—Ç–∞:** –¢–æ–ª—å–∫–æ —Ä—É–±–ª–∏
4. **–ë—É—Ö–≥–∞–ª—Ç–µ—Ä—Å–∫–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã:** –†–æ—Å—Å–∏–π—Å–∫–∏–π —É—á–µ—Ç
5. **–û—Ç—á–µ—Ç–Ω–æ—Å—Ç—å:** –¢–æ–ª—å–∫–æ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–±–µ–∑ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏)

### –î–æ–ø—É—â–µ–Ω–∏—è

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏–º–µ—é—Ç –±–∞–∑–æ–≤—ã–µ –∑–Ω–∞–Ω–∏—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤
2. –î–∞–Ω–Ω—ã–µ –∏–∑ 1–° –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã –∏ –ø–æ–ª–Ω—ã
3. –ö–æ–º–ø–∞–Ω–∏—è –≤–µ–¥–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω—á–µ—Å–∫–∏–π —É—á–µ—Ç
4. –ï—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ –±–∞–ª–∞–Ω—Å—É –∏ P&L
5. Telegram account –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω

---

## 5. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### –í–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã

1. **Telegram API** - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
2. **Railway** - —Ö–æ—Å—Ç–∏–Ω–≥ backend
3. **Vercel** - —Ö–æ—Å—Ç–∏–Ω–≥ frontend
4. **Railway PostgreSQL** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
5. **GitHub Actions** - CI/CD

### –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```
Frontend ‚Üí Backend API
Backend ‚Üí PostgreSQL
Backend ‚Üí Redis (cache)
Backend ‚Üí Telegram API
```

---

## 6. Acceptance Criteria –æ–±—â–∏–µ

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ MVP:

- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Telegram
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∑–∞–≥—Ä—É–∑–∏—Ç—å Excel —Ñ–∞–π–ª
- [ ] –°–∏—Å—Ç–µ–º–∞ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –≤—Å–µ 11 –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
- [ ] –î–∞—à–±–æ—Ä–¥ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏
- [ ] –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ desktop –∏ mobile
- [ ] Test coverage > 80%
- [ ] Performance score > 90
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≥–æ—Ç–æ–≤–∞
- [ ] –ü–µ—Ä–≤—ã–π beta-—Ç–µ—Å—Ç–µ—Ä (–ê–∫—Ñ–∏–∫—Å) —É—Å–ø–µ—à–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∏—Å—Ç–µ–º—É

---

## 7. Out of Scope (–Ω–µ –≤—Ö–æ–¥–∏—Ç –≤ MVP)

‚ùå –ù–µ –¥–µ–ª–∞–µ–º –≤ MVP:
- Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –≠–∫—Å–ø–æ—Ä—Ç –≤ PDF
- –ö–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–º–ø–∞–Ω–∏–π
- –ë—é–¥–∂–µ—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ü–ª–∞—Ç–µ–∂–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–∞–Ω–∫–∞–º–∏
- –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ (ML)
- –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –ë–µ–ª—ã–π –ª–µ–π–±–ª
- API –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤

–≠—Ç–∏ —Ñ–∏—á–∏ –≤ –ø–ª–∞–Ω–∞—Ö –Ω–∞ Phase 2-3.

---

## 8. –ì–ª–æ—Å—Å–∞—Ä–∏–π

- **P&L** - Profit & Loss Statement (–û—Ç—á–µ—Ç –æ –ø—Ä–∏–±—ã–ª—è—Ö –∏ —É–±—ã—Ç–∫–∞—Ö)
- **ROS** - Return on Sales (–†–µ–Ω—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ–¥–∞–∂)
- **ROA** - Return on Assets (–†–µ–Ω—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å –∞–∫—Ç–∏–≤–æ–≤)
- **ROE** - Return on Equity (–†–µ–Ω—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å –∫–∞–ø–∏—Ç–∞–ª–∞)
- **NWC** - Net Working Capital (–ß–∏—Å—Ç—ã–π –æ–±–æ—Ä–æ—Ç–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª)
- **1–°** - –ü–æ–ø—É–ª—è—Ä–Ω–∞—è —Ä–æ—Å—Å–∏–π—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ —É—á–µ—Ç–∞
- **MVP** - Minimum Viable Product

---

**–£—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ:** Product Owner (Dima)  
**–î–∞—Ç–∞ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è:** 2024-11-15
